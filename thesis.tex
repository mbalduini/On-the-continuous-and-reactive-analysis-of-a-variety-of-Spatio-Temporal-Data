% For printing in a4
%\documentclass[a4,10pt,twoside,openright,italian,english]{book}% twoside!

% For printing with the A5 format
\documentclass[10pt,twoside,openright,english,italian]{book}% twoside!

% Set paper size
\usepackage[twoside=true]{geometry}

%For printing with the weird format
\geometry{
	paperwidth=17cm,
	paperheight=24cm,
	margin=2cm,
	top=2.3cm,
	bindingoffset=0.4cm
}
% For printing in a4
% \geometry{a4paper,
%  margin=3cm,
%  top=3.8cm,
%  bindingoffset=0.4cm
% }

%Uncomment this for final prints: this just enables printing on a4 paper
\usepackage[cam,center,a4,pdflatex,axes]{crop}

\usepackage{phdthesis}

\usepackage{fancyhdr}
\usepackage{color}
\usepackage{array}
\usepackage{mdwmath}
\usepackage{mdwtab}
\usepackage{amsmath,amssymb}
\usepackage{cite}
\usepackage{graphicx}
\usepackage{glossaries}
\usepackage{listings}
\usepackage{subfig}
\usepackage{booktabs}
\usepackage{latexsym}
\usepackage{url}
\usepackage{bnf}
\usepackage{rotating}
\usepackage{multirow}
\usepackage{phdtitle}
\usepackage{paralist}
\usepackage{bibentry}
\usepackage{xcolor}
\usepackage{enumitem}
%\usepackage[algochapter]{algorithm2e}
\usepackage[bookmarks=true,pdftex=false,bookmarksopen=true,pdfborder={0,0,0}]{hyperref}
\usepackage{lscape}
\usepackage{algorithmic}
\usepackage{algorithm}
\usepackage{longtable}
\usepackage[T1]{fontenc} 
\usepackage[latin1]{inputenc}
\usepackage[official]{eurosym}

%Custom package
\usepackage{amssymb}
\usepackage{textcomp}
\usepackage{lmodern}
\usepackage{lineno}
\setcounter{tocdepth}{3}
\usepackage{float}
\usepackage{booktabs}
\usepackage{color}
\usepackage[verbose]{placeins}
\usepackage{blindtext}
\usepackage{makecell}
\usepackage{amsfonts}
\usepackage{colortbl}
\usepackage{tabulary}
\usepackage{etoolbox}
\usepackage{courier}
\usepackage{stix}

%\setlist{nosep}

%% \hyphenation{} is used to force the 
\hyphenation{}

\newtheorem{Definition}{Definition}[section]
\newtheorem{Example}{Example}[section]

\lstset{tabsize=2,basicstyle=\footnotesize,breaklines=true}

%%Custom listing styles
\lstdefinestyle{RDF}{
    numbers=left,                
    numberstyle=\scriptsize,
    tabsize=4,
    rulecolor=,
    language=xml,
    basicstyle=\ttfamily\footnotesize,
    aboveskip={1\baselineskip},
    columns=fixed,
    showstringspaces=false,
    extendedchars=true,
    breaklines=true,
    prebreak = \raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
    frame=single,
    showtabs=false,
    showspaces=false,
    showstringspaces=false,
    identifierstyle=\ttfamily,
    keywordstyle=\ttfamily,
}

\lstdefinestyle{N3}{
  basicstyle=\ttfamily\footnotesize,
  numberblanklines=true, 
  morekeywords={@prefix},
  %morekeywords={frappe,frEvent,frCell,frPixel,frFrame,frPlace,frGrid,frInstant,frCapture,frContent,frAct,frAgent,frEntity,xsd,prov,event,rdfs,time},
  frame=single
}

\lstdefinestyle{SPARQL}{
  basicstyle=\ttfamily\footnotesize,
  numberblanklines=true,
  morekeywords={PREFIX,AS,FROM,SELECT,CONSTRUCT,FROM,WHERE,COUNT,SUM,AVG,DISTINCT,FILTER,GROUP,ORDER,BY,ASC,DESC},
  frame=single
}

\lstdefinestyle{CSPARQL}{
  basicstyle=\ttfamily\footnotesize,
  numberblanklines=true,
  morekeywords={PREFIX,REGISTER,STREAM,AS,FROM,SELECT,CONSTRUCT,FROM,RANGE,STEP,WHERE,COUNT,SUM,AVG,DISTINCT,FILTER,GROUP,ORDER,BY,ASC,DESC},
  frame=single
}

\lstdefinestyle{ESPER}{
  basicstyle=\ttfamily\footnotesize,
  numberblanklines=true,
  morekeywords={SELECT,FROM,SUM,WIN,TIME_BATCH,TIME,EXT_TIMED_BATCH,GROUP,BY,OUTPUT,SNAPSHOT,EVERY,FORCE_UPDATE,START_EAGER,MAX,HAVING,COUNT,istream,rstream,irstream},
  frame=single
}

\lstdefinestyle{JSON}{
  basicstyle=\ttfamily\footnotesize,
  numberblanklines=true,
  morekeywords={@context,@type,@type,@id},
  frame=single
}

\lstdefinestyle{SPARKSQL}{
  basicstyle=\ttfamily\footnotesize,
  numberblanklines=true,
  morekeywords={PREFIX,REGISTER,STREAM,AS,FROM,SELECT,CONSTRUCT,FROM,RANGE,STEP,WHERE,COUNT,SUM,AVG,DISTINCT,FILTER,GROUP,ORDER,BY,ASC,DESC,WINDOW,ON,EVERY,LEFT,JOIN},
  frame=single
}

\lstdefinestyle{SPARKCODE}{
  basicstyle=\ttfamily\footnotesize,
  numberblanklines=true,
  morekeywords={$,val,groupBy,window,Agg,Count,count},
  frame=single
}

\lstdefinestyle{JSONIQ}{
  basicstyle=\ttfamily\footnotesize,
  numberblanklines=true,
  morekeywords={FOR,COLLECTION,GROUP,BY,RETURN,COUNT,IN},
  frame=single
}

\usepackage[greek,english,italian]{babel}

\usepackage{ulem}
\normalem

\hypersetup{pdftitle={Title}, pdfauthor={Author}}

\nobibliography*

\department {Dipartimento di Elettronica, Informazione e Bioingegneria}
\phdprogram{Doctoral Programme In Information Technology}

\author{Marco Balduini}
\title{On the Continuous and Reactive Analysis of a Variety of Spatio-Temporal Data}
\supervisor{Emanuele Della Valle}
\tutor{Stefano Ceri}
\advisor{Andrea Bonarini}
\titleimage{img/logopoli.png}
\phdcycle{2018 -- XXX Cycle}

% Custom command
\newcommand{\frappe}{FraPPE} 
\newcommand{\sti}{Natron}
\newcommand{\hivedi}{rvr@Hive}
\newcommand{\sparkdi}{rvr@Spark}
\newcommand{\river}{RI\rotatebox[origin=c]{90}{V}E\reflectbox{R}}
\def\ojoin{\setbox0=\hbox{$\bowtie$}%
  \rule[-.02ex]{.25em}{.4pt}\llap{\rule[\ht0]{.25em}{.4pt}}}
\def\leftouterjoin{\mathbin{\ojoin\mkern-5.8mu\bowtie}}
\def\rightouterjoin{\mathbin{\bowtie\mkern-5.8mu\ojoin}}
\def\fullouterjoin{\mathbin{\ojoin\mkern-5.8mu\bowtie\mkern-5.8mu\ojoin}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Let's Start The Real Document
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\selectlanguage{english}

\maketitle

\pagestyle{empty}

\cleardoublepage
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Acknowledgement
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\input{acknowledge}

\cleardoublepage
\newpage

\pagestyle{fancy}
% change numbering into Roman numbers for the introductory part
\setcounter{page}{1}
\pagenumbering{Roman}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Abstract
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{chapters/abstract}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Riassunto
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\selectlanguage{english}
\input{chapters/summary}
\selectlanguage{english}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% TOC
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\tableofcontents
\cleardoublepage
\newpage

% Now lets go back to normal numbering
\setcounter{page}{1}
\pagenumbering{arabic}

\cleardoublepage
%Introduction
\input{chapters/introduction} 
%Background
\input{chapters/background} 
%Urban data analysis
\input{chapters/uda} 
%Conceptual Model
\input{chapters/conceptual_mod} 
%Computational Model
\input{chapters/computational_mod} 
%Computational Model Implementations
\input{chapters/computational_mod-impl} 
%Case Studies
\input{chapters/case-studies} 
%Conclusion
\input{chapters/conclusion} 

%\cleardoublepage
%\listoffigures
%\listoftables

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{\bibname}
\small
\bibliographystyle{unsrt}
\bibliography{thesis}

\end{document}
